{"ast":null,"code":"import { ADD_POST, DELETE_POST, FETCH_POST, ADD_INCOME, DELETE_INCOME, FETCH_INCOME } from './types';\nimport axios from 'axios';\nvar apiUrl = 'http://127.0.0.1:8000/expenses/';\nvar apiInc = 'http://127.0.0.1:8000/incomes/';\nexport var createPost = function createPost(_ref) {\n  var title = _ref.title,\n      category = _ref.category,\n      amount = _ref.amount;\n  return function (dispatch) {\n    return axios.post(\"\".concat(apiUrl), {\n      title: title,\n      category: category,\n      amount: amount\n    }).then(function (res) {\n      dispatch(createPostSuccess(res.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n};\nexport var createPostSuccess = function createPostSuccess(data) {\n  return {\n    type: ADD_POST,\n    payload: {\n      title: data.title,\n      category: data.category,\n      amount: data.amount\n    }\n  };\n};\nexport var deletePostSuccess = function deletePostSuccess(id) {\n  return {\n    type: DELETE_POST,\n    payload: {\n      id: id\n    }\n  };\n};\nexport var deletePost = function deletePost(id) {\n  return function (dispatch) {\n    return axios.delete(\"\".concat(apiUrl).concat(id, \"/\")).then(function (res) {\n      dispatch(deletePostSuccess(res.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n};\nexport var fetchPosts = function fetchPosts(posts) {\n  return {\n    type: FETCH_POST,\n    posts: posts\n  };\n};\nexport var fetchAllPosts = function fetchAllPosts() {\n  return function (dispatch) {\n    return axios.get(apiUrl).then(function (res) {\n      dispatch(fetchPosts(res.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n}; //INCOMES\n\nexport var createIncome = function createIncome(_ref2) {\n  var from_where = _ref2.from_where,\n      amount = _ref2.amount;\n  return function (dispatch) {\n    return axios.post(\"\".concat(apiInc), {\n      from_where: from_where,\n      amount: amount\n    }).then(function (res) {\n      dispatch({\n        type: ADD_INCOME,\n        payload: {\n          from_where: res.data.from_where,\n          amount: res.data.amount\n        }\n      });\n    });\n  };\n};\nexport var deleteIncome = function deleteIncome(id) {\n  return function (dispatch) {\n    return axios.delete(\"\".concat(apiInc).concat(id, \"/\")).then(function (res) {\n      dispatch({\n        type: DELETE_INCOME,\n        payload: {\n          id: res.data.id\n        }\n      });\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n};\nexport var fetchIncomes = function fetchIncomes(income) {\n  return {\n    type: FETCH_INCOME,\n    income: income\n  };\n};\nexport var fetchAllIncomes = function fetchAllIncomes() {\n  return function (dispatch) {\n    return axios.get(apiInc).then(function (res) {\n      dispatch(fetchIncomes(res.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n};","map":{"version":3,"sources":["/Users/martin/Desktop/reduxlearn/reduxexpenses/src/actions/index.js"],"names":["ADD_POST","DELETE_POST","FETCH_POST","ADD_INCOME","DELETE_INCOME","FETCH_INCOME","axios","apiUrl","apiInc","createPost","title","category","amount","dispatch","post","then","res","createPostSuccess","data","catch","error","type","payload","deletePostSuccess","id","deletePost","delete","fetchPosts","posts","fetchAllPosts","get","createIncome","from_where","deleteIncome","fetchIncomes","income","fetchAllIncomes"],"mappings":"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","sourcesContent":["import {ADD_POST, DELETE_POST, FETCH_POST, ADD_INCOME, DELETE_INCOME, FETCH_INCOME} from './types'\nimport axios from 'axios'\n\nconst apiUrl = 'http://127.0.0.1:8000/expenses/'\nconst apiInc = 'http://127.0.0.1:8000/incomes/'\n\nexport const createPost = ({title,category,amount})=>{\n    return(dispatch)=>{\n        return axios.post(`${apiUrl}`, {title,category,amount})\n        .then(res=>{\n            dispatch(createPostSuccess(res.data))\n        })\n        .catch(error=>{\n            throw(error)\n        })\n    }\n}\nexport const createPostSuccess = (data)=>{\n    return{\n        type:ADD_POST,\n        payload:{\n            title:data.title,\n            category:data.category,\n            amount:data.amount\n        }\n    }\n}\n\n\nexport const deletePostSuccess = id =>{\n    return{\n        type:DELETE_POST,\n        payload:{\n            id\n        }\n    }\n}\n\nexport const deletePost = id =>{\n    return(dispatch)=>{\n        return axios.delete(`${apiUrl}${id}/`)\n        .then(res=>{\n            dispatch(deletePostSuccess(res.data))\n        })\n        .catch(error=>{\n            throw(error)\n        })\n    }\n}\n\n\nexport const fetchPosts = posts =>{\n    return{\n        type:FETCH_POST,\n        posts\n    }\n}\n\nexport const fetchAllPosts = () =>{\n    return(dispatch)=>{\n        return axios.get(apiUrl)\n        .then(res=>{\n            dispatch(fetchPosts(res.data))\n        })\n        .catch(error=>{\n            throw(error)\n        })\n    }\n}\n\n\n\n//INCOMES\nexport const createIncome = ({ from_where, amount }) => {\n    return (dispatch) => {\n        return axios.post(`${apiInc}`, { from_where, amount })\n            .then(res => {\n                dispatch({\n                    type: ADD_INCOME,\n                    payload: {\n                        from_where: res.data.from_where,\n                        amount: res.data.amount\n                    }\n                })\n            })\n    }\n}\nexport const deleteIncome = id => {\n    return (dispatch) => {\n        return axios.delete(`${apiInc}${id}/`)\n            .then(res => {\n                dispatch({\n                    type: DELETE_INCOME,\n                    payload: {\n                        id:res.data.id\n                    }\n                })\n            })\n            .catch(error => {\n                throw (error)\n            })\n    }\n}\nexport const fetchIncomes = (income) => {\n    return {\n        type: FETCH_INCOME,\n        income\n    }\n}\n\n\n\nexport const fetchAllIncomes = () => {\n    return (dispatch) => {\n        return axios.get(apiInc)\n            .then(res => {\n               dispatch(fetchIncomes(res.data))\n            })\n            .catch(error => {\n                throw (error)\n            })\n    }\n}\n"]},"metadata":{},"sourceType":"module"}